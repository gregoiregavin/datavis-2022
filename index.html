<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src='https://d3js.org/d3.v6.min.js'></script>
    <link href="./global.css" rel="stylesheet">
    <link rel="icon" type="image/x-icon" href="/favicon-gamepad.png">
    <title>Profits en E-Sport</title>
</head>

<body>
    <script type="text/javascript">

        // TABLEAUX

        let colNames = {
            'IdNo': 'ID',
            'TotalMoney': 'Argent gagné',
            'GameName': 'Nom du jeu',
            'Genre': 'Genre du jeu',
            'PlayerNo': 'Nombre de joueurs',
            'TournamentNo': 'Nombre de tournois',
            'Top_Country': 'Pays',
            'Top_Country_Earnings': 'Gains dans le pays',
            'ReleaseYear': 'Date de sortie'
        }

        // CONSTRUCTION DE LA PAGE

        let wrapper = d3.select('body')
            .append('div')
            .classed('wrapper', true)

        let pageTitle = wrapper.append('h1')
            .classed('pageTitle', true)
            .html('Profits en E-Sport')

        let pageSubTitle = wrapper.append('h2')
            .classed('pageSubTitle', true)
            .html('Projet de validation')

        let table = wrapper.append('table')
        let thead = table.append('thead')
        let tbody = table.append('tbody')

        // RÉCUPÉRATION DES DONNÉES
        d3.csv('ESport_Earnings.csv', function (data) {

            //console.log(data)

            for (var i = 0; i < data.length; i++) {
                console.log(data[i].Name);
                console.log(data[i].Age);
            }

            //let table = wrapper.append('table')
            //let thead = table.append('thead')
            //let tbody = table.append('tbody')

            //d3.select('body').append('p').text(data.Top_Country)
            //console.log(Object.keys(data)[2])
            //console.log(Object.values(data)[2])

            d3.select('body').append('p').text(Object.keys(data))
        })

        /* d3.csv("ESport_Earnings.csv").then(function (data) {

            for (var i = 0; i < data.length; i++) {
                console.log(data[i].GameName);
            }
        }); */

        const donnees = d3.csv('ESport_Earnings.csv')
        console.log(donnees)

    </script>
</body>

</html>